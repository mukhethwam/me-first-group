
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Me First Group | Mining Transport Specialists</title>
    <meta name="description" content="Me First Group - Specialists in mining commodity transport with 34-ton side tipper trucks for manganese, chrome, coal and more." />
    <meta name="author" content="Me First Group" />

    <link rel="canonical" href="https://www.mefirstgroup.co.za" />

    <meta property="og:title" content="Me First Group | Mining Transport Specialists" />
    <meta property="og:description" content="Specialists in mining commodity transport with 34-ton side tipper trucks for manganese, chrome, coal and more." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.mefirstgroup.co.za" />
    <meta property="og:image" content="https://www.mefirstgroup.co.za/opengraph-image.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@mefirstgroup" />
    <meta name="twitter:title" content="Me First Group | Mining Transport Specialists" />
    <meta name="twitter:description" content="Specialists in mining commodity transport with 34-ton side tipper trucks for manganese, chrome, coal and more." />
    <meta name="twitter:url" content="https://www.mefirstgroup.co.za" />
    <meta name="twitter:image" content="https://www.mefirstgroup.co.za/opengraph-image.png" />
    
    <link rel="icon" type="image/x-icon" href="./favicon.ico">
    
    <!-- Preload React and ReactDOM from more reliable CDN with fallbacks -->
    <script>
      // Define fallback function to load scripts with retries
      function loadScript(src, retries = 3) {
        return new Promise((resolve, reject) => {
          const script = document.createElement('script');
          script.src = src;
          script.crossOrigin = "anonymous";
          script.onload = resolve;
          script.onerror = () => {
            if (retries > 0) {
              console.warn(`Failed to load ${src}, retrying... (${retries} attempts left)`);
              loadScript(src, retries - 1).then(resolve).catch(reject);
            } else {
              console.error(`Failed to load ${src} after multiple attempts`);
              reject();
            }
          };
          document.head.appendChild(script);
        });
      }
      
      // Load React from multiple potential CDNs
      window.loadReactLibraries = async function() {
        try {
          await Promise.all([
            loadScript("https://unpkg.com/react@18/umd/react.production.min.js"),
            loadScript("https://unpkg.com/react-dom@18/umd/react-dom.production.min.js")
          ]);
          console.log("React libraries loaded successfully");
        } catch (e) {
          try {
            // Try alternative CDN if first one fails
            await Promise.all([
              loadScript("https://cdn.jsdelivr.net/npm/react@18/umd/react.production.min.js"),
              loadScript("https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.production.min.js")
            ]);
            console.log("React libraries loaded from alternative CDN");
          } catch (err) {
            console.error("Failed to load React libraries from all sources");
          }
        }
      };
      
      // Start loading React libraries
      window.loadReactLibraries();
    </script>
  </head>

  <body>
    <div id="root"></div>
    
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    
    <!-- Main application script with multiple path fallbacks -->
    <script type="module">
      // Try to load from various possible paths
      const scriptPaths = [
        './src/main.tsx',
        './main.js',
        './assets/main.js',
        './assets/index.js'
      ];
      
      let scriptLoaded = false;
      
      async function tryLoadScript() {
        for (const path of scriptPaths) {
          try {
            const module = await import(path);
            console.log(`Successfully loaded app from: ${path}`);
            scriptLoaded = true;
            break;
          } catch (e) {
            console.warn(`Failed to load from ${path}, trying next option...`);
          }
        }
        
        if (!scriptLoaded) {
          console.error("Failed to load application from any known path");
          const root = document.getElementById('root');
          if (root) {
            root.innerHTML = `
              <div style="font-family: Arial, sans-serif; text-align: center; margin-top: 50px; padding: 20px;">
                <h1>Me First Group</h1>
                <p>We're experiencing technical difficulties. Please try refreshing the page.</p>
                <p style="margin-top: 30px; font-size: 14px; color: #666;">
                  If this problem persists, please contact our support team.
                </p>
              </div>
            `;
          }
        }
      }
      
      // Wait for DOM to be ready
      document.addEventListener('DOMContentLoaded', function() {
        setTimeout(tryLoadScript, 100); // Small delay to ensure DOM is fully loaded
      });
      
      // If DOMContentLoaded already fired, run immediately
      if (document.readyState === 'interactive' || document.readyState === 'complete') {
        tryLoadScript();
      }
    </script>
    
    <!-- Fallback for older browsers or if main script fails -->
    <noscript>
      <div style="font-family: Arial, sans-serif; text-align: center; margin-top: 50px; padding: 20px;">
        <h1>Me First Group</h1>
        <p>JavaScript is required to view this website. Please enable JavaScript in your browser settings and reload the page.</p>
      </div>
    </noscript>
  </body>
</html>
